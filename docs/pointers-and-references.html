<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1.5 Pointers and References | C++ for Rustaceans</title>
  <meta name="description" content="1.5 Pointers and References | C++ for Rustaceans" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="1.5 Pointers and References | C++ for Rustaceans" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="1.5 Pointers and References | C++ for Rustaceans" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1.5 Pointers and References | C++ for Rustaceans" />
  
  <meta name="twitter:description" content="1.5 Pointers and References | C++ for Rustaceans" />
  

<meta name="author" content="Tianyi Shi" />


<meta name="date" content="2020-11-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="functions.html"/>
<link rel="next" href="control-flow.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="https://tianyishi2001.github.io/cpp4r">C++ for Rustaceans</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Disclaimer</a></li>
<li class="chapter" data-level="" data-path="reading-this-book.html"><a href="reading-this-book.html"><i class="fa fa-check"></i>Reading This Book</a></li>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html"><i class="fa fa-check"></i>About this Book</a></li>
<li class="chapter" data-level="" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="1" data-path="hello-c.html"><a href="hello-c.html"><i class="fa fa-check"></i><b>1</b> Hello C++</a>
<ul>
<li class="chapter" data-level="1.1" data-path="hello-world.html"><a href="hello-world.html"><i class="fa fa-check"></i><b>1.1</b> Hello world</a></li>
<li class="chapter" data-level="1.2" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>1.2</b> Data Types</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="data-types.html"><a href="data-types.html#integer-types"><i class="fa fa-check"></i><b>1.2.1</b> Integer Types</a></li>
<li class="chapter" data-level="1.2.2" data-path="data-types.html"><a href="data-types.html#floating-point-numbers"><i class="fa fa-check"></i><b>1.2.2</b> Floating Point Numbers</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="variables.html"><a href="variables.html"><i class="fa fa-check"></i><b>1.3</b> Variables</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="variables.html"><a href="variables.html#mutability"><i class="fa fa-check"></i><b>1.3.1</b> Mutability</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>1.4</b> Functions</a></li>
<li class="chapter" data-level="1.5" data-path="pointers-and-references.html"><a href="pointers-and-references.html"><i class="fa fa-check"></i><b>1.5</b> Pointers and References</a></li>
<li class="chapter" data-level="1.6" data-path="control-flow.html"><a href="control-flow.html"><i class="fa fa-check"></i><b>1.6</b> Control Flow</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="control-flow.html"><a href="control-flow.html#if...else"><i class="fa fa-check"></i><b>1.6.1</b> <code>if...else</code></a></li>
<li class="chapter" data-level="1.6.2" data-path="control-flow.html"><a href="control-flow.html#while-loop"><i class="fa fa-check"></i><b>1.6.2</b> <code>while</code> Loop</a></li>
<li class="chapter" data-level="1.6.3" data-path="control-flow.html"><a href="control-flow.html#for-loop"><i class="fa fa-check"></i><b>1.6.3</b> <code>for</code> Loop</a></li>
<li class="chapter" data-level="1.6.4" data-path="control-flow.html"><a href="control-flow.html#goto-statement-and-breaking-outer-loops"><i class="fa fa-check"></i><b>1.6.4</b> <code>goto</code> Statement and Breaking outer Loops</a></li>
<li class="chapter" data-level="1.6.5" data-path="control-flow.html"><a href="control-flow.html#switch"><i class="fa fa-check"></i><b>1.6.5</b> <code>switch</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise.html"><a href="exercise.html"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="enumerations.html"><a href="enumerations.html"><i class="fa fa-check"></i><b>2</b> Enumerations</a>
<ul>
<li class="chapter" data-level="2.1" data-path="the-plain-enum.html"><a href="the-plain-enum.html"><i class="fa fa-check"></i><b>2.1</b> The Plain <code>enum</code></a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="the-plain-enum.html"><a href="the-plain-enum.html#defining-an-enum"><i class="fa fa-check"></i><b>2.1.1</b> Defining an Enum</a></li>
<li class="chapter" data-level="2.1.2" data-path="the-plain-enum.html"><a href="the-plain-enum.html#using-an-enum"><i class="fa fa-check"></i><b>2.1.2</b> Using an Enum</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">C++ for Rustaceans</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pointers-and-references" class="section level2" number="1.5">
<h2><span class="header-section-number">1.5</span> Pointers and References</h2>
<p>Let’s revisit how we make references and pointers in Rust:</p>
<p>In Rust, when you take a reference to a type <code>T</code>, the type of the reference is <code>&amp;T</code>. Basically, you add <code>&amp;</code> to both LHS and RHS:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode rust"><code class="sourceCode rust"><span id="cb18-1"><a href="pointers-and-references.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">// type annotations are not required; this is just for demonstration</span></span>
<span id="cb18-2"><a href="pointers-and-references.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span>   a<span class="op">:</span>  <span class="dt">i32</span> <span class="op">=</span>  <span class="dv">5</span><span class="op">;</span></span>
<span id="cb18-3"><a href="pointers-and-references.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> r_a<span class="op">:</span> <span class="op">&amp;</span><span class="dt">i32</span> <span class="op">=</span> <span class="op">&amp;</span>a<span class="op">;</span> <span class="co">// r_a == &amp;5</span></span></code></pre></div>
<p>and when you deference, you use <code>*</code>. Just remember that <code>*</code> is the reverse of <code>&amp;</code>, and every <code>*</code> removes one <code>&amp;</code> from both LHS and RHS:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode rust"><code class="sourceCode rust"><span id="cb19-1"><a href="pointers-and-references.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> r_a<span class="op">:</span> <span class="op">&amp;</span><span class="dt">i32</span> <span class="op">=</span> <span class="op">&amp;</span><span class="dv">5</span><span class="op">;</span></span>
<span id="cb19-2"><a href="pointers-and-references.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span>   a<span class="op">:</span>  <span class="dt">i32</span> <span class="op">=</span> <span class="op">*</span>r_a<span class="op">;</span> <span class="co">// a == 5</span></span>
<span id="cb19-3"><a href="pointers-and-references.html#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span>   a<span class="op">:</span>  <span class="dt">i32</span> <span class="op">=</span> <span class="op">*&amp;*&amp;*&amp;</span>a</span></code></pre></div>
<p>You can coerce a reference into a raw pointer, using either of the two syntaxes:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode rust"><code class="sourceCode rust"><span id="cb20-1"><a href="pointers-and-references.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> a <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb20-2"><a href="pointers-and-references.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> p_a<span class="op">:</span> <span class="op">*</span><span class="kw">const</span> <span class="dt">i32</span> <span class="op">=</span> <span class="op">&amp;</span>a<span class="op">;</span></span>
<span id="cb20-3"><a href="pointers-and-references.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">// or</span></span>
<span id="cb20-4"><a href="pointers-and-references.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> p_a <span class="op">=</span> <span class="op">&amp;</span>a <span class="kw">as</span> <span class="op">*</span><span class="kw">const</span> <span class="dt">i32</span><span class="op">;</span></span></code></pre></div>
<p>You need to be explicit about mutability:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode rust"><code class="sourceCode rust"><span id="cb21-1"><a href="pointers-and-references.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> a <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb21-2"><a href="pointers-and-references.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> p_a<span class="op">:</span> <span class="op">*</span><span class="kw">mut</span> <span class="dt">i32</span> <span class="op">=</span> <span class="op">&amp;</span><span class="kw">mut</span> a<span class="op">;</span></span>
<span id="cb21-3"><a href="pointers-and-references.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co">// or</span></span>
<span id="cb21-4"><a href="pointers-and-references.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> p_a <span class="op">=</span> <span class="op">&amp;</span><span class="kw">mut</span> a <span class="kw">as</span> <span class="op">*</span><span class="kw">mut</span> <span class="dt">i32</span><span class="op">;</span></span></code></pre></div>
<p>In C++, the difference between a reference and pointer is smaller. Pointers are
compatible with C, and references are a C++-only thing.</p>
<p>In C++ (and C), this is how you make a pointer:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb22-1"><a href="pointers-and-references.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span>    a =  <span class="dv">5</span>;</span>
<span id="cb22-2"><a href="pointers-and-references.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> *p_a = &amp;<span class="dv">5</span>;</span>
<span id="cb22-3"><a href="pointers-and-references.html#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">// or</span></span>
<span id="cb22-4"><a href="pointers-and-references.html#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> * p_a = &amp;<span class="dv">5</span>;</span>
<span id="cb22-5"><a href="pointers-and-references.html#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">// or</span></span>
<span id="cb22-6"><a href="pointers-and-references.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span>*  p_a = &amp;<span class="dv">5</span>;</span></code></pre></div>
<p>and to dereference a pointer:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb23-1"><a href="pointers-and-references.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> b = *p_a;</span></code></pre></div>
<p>You add <code>&amp;</code> to RHS, but you add <code>*</code> to LHS. Despite the fact that the variable name really is <code>p_a</code>, not <code>*p_a</code>, and the type really is <code>int*</code>, most people and formatters prepend the asterisk before the variable name (<code>int *p_a = &amp;a;</code>). There are some discussion at <a href="https://stackoverflow.com/questions/398395/why-is-the-asterisk-before-the-variable-name-rather-than-after-the-type">StackOverflow</a> on why people are preferring this style. I personally prefer using the <code>int* p_a = &amp;a</code> style, which is also being used consistently on <a href="https://en.cppreference.com/w/cpp/language/pointer">cppreference</a>, and in Bjarne Stroustrup’s <em>A Tour of C++</em>.</p>
<p>Anyway, you can choose whichever form you like when you write your code, but you need to able to read all forms so that you can read others’ code.</p>
<p>References have similar capabilities as pointers, with the only big difference being their semantics.
This is how you create a reference and read its referent’s value:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb24-1"><a href="pointers-and-references.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> l = <span class="dv">5</span>;</span>
<span id="cb24-2"><a href="pointers-and-references.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span>&amp; m = l;</span>
<span id="cb24-3"><a href="pointers-and-references.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="ot">assert</span>(m == <span class="dv">5</span>); <span class="co">// not `*m` !</span></span></code></pre></div>
<p>Note that you can directly create a pointer, but not a reference to a literal, that is to say:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb25-1"><a href="pointers-and-references.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span>* i = &amp;<span class="dv">5</span>; <span class="co">// is valid</span></span>
<span id="cb25-2"><a href="pointers-and-references.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span>&amp; j = <span class="dv">5</span>;  <span class="co">// is not allowed</span></span></code></pre></div>
<p>You do not need to (and cannot) use the deference operator (<code>*</code>) on a reference to access the value of the referent. In addition, a reference cannot be re-assigned to refer to another value. Apart from these two rules, references are effectively the same as pointers. It can be helpful to see a reference as an <em>alias</em> to a <em>named variable</em>. Indeed, a reference shares the same memory address as its referent.</p>
<p>Since we are Rustaceans, we are sensitive to mutability. Are there any difference between pointers and references in terms of mutability? The answer is no. Both can be used to mutate the referent.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb26-1"><a href="pointers-and-references.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb26-2"><a href="pointers-and-references.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main()</span>
<span id="cb26-3"><a href="pointers-and-references.html#cb26-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb26-4"><a href="pointers-and-references.html#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> a{<span class="dv">5</span>};</span>
<span id="cb26-5"><a href="pointers-and-references.html#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> &amp;r_a = a;  <span class="co">// create a reference</span></span>
<span id="cb26-6"><a href="pointers-and-references.html#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> *p_a = &amp;a; <span class="co">// create a pointer</span></span>
<span id="cb26-7"><a href="pointers-and-references.html#cb26-7" aria-hidden="true" tabindex="-1"></a>    printf(<span class="st">&quot;| a|r_a|*p_a|     p_a      |</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb26-8"><a href="pointers-and-references.html#cb26-8" aria-hidden="true" tabindex="-1"></a>    a = <span class="dv">10</span>; <span class="co">// mutate the value</span></span>
<span id="cb26-9"><a href="pointers-and-references.html#cb26-9" aria-hidden="true" tabindex="-1"></a>    printf(<span class="st">&quot;|</span><span class="sc">%d</span><span class="st">| </span><span class="sc">%d</span><span class="st">|  </span><span class="sc">%d</span><span class="st">|</span><span class="sc">%p</span><span class="st">|</span><span class="sc">\n</span><span class="st">&quot;</span>, a, r_a, *p_a, p_a);</span>
<span id="cb26-10"><a href="pointers-and-references.html#cb26-10" aria-hidden="true" tabindex="-1"></a>    r_a = <span class="dv">15</span>; <span class="co">// mutate via reference; no asterisk!</span></span>
<span id="cb26-11"><a href="pointers-and-references.html#cb26-11" aria-hidden="true" tabindex="-1"></a>    printf(<span class="st">&quot;|</span><span class="sc">%d</span><span class="st">| </span><span class="sc">%d</span><span class="st">|  </span><span class="sc">%d</span><span class="st">|</span><span class="sc">%p</span><span class="st">|</span><span class="sc">\n</span><span class="st">&quot;</span>, a, r_a, *p_a, p_a);</span>
<span id="cb26-12"><a href="pointers-and-references.html#cb26-12" aria-hidden="true" tabindex="-1"></a>    *p_a = <span class="dv">20</span>; <span class="co">// mutate via pointer</span></span>
<span id="cb26-13"><a href="pointers-and-references.html#cb26-13" aria-hidden="true" tabindex="-1"></a>    printf(<span class="st">&quot;|</span><span class="sc">%d</span><span class="st">| </span><span class="sc">%d</span><span class="st">|  </span><span class="sc">%d</span><span class="st">|</span><span class="sc">%p</span><span class="st">|</span><span class="sc">\n</span><span class="st">&quot;</span>, a, r_a, *p_a, p_a);</span>
<span id="cb26-14"><a href="pointers-and-references.html#cb26-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>| a|r_a|*p_a|     p_a      |
|10| 10|  10|0x7ffe09e40404|
|15| 15|  15|0x7ffe09e40404|
|20| 20|  20|0x7ffe09e40404|</code></pre>
<p>I think it would be helpful to make a line-by-line comparison of some common tasks in Rust and in C++:</p>
<div id="reading-the-value-without-mutation-with-a-pointer-or-reference" class="section level4" number="1.5.0.1">
<h4><span class="header-section-number">1.5.0.1</span> Reading The Value Without Mutation with A Pointer or Reference</h4>
<table>
<colgroup>
<col width="19%" />
<col width="19%" />
<col width="18%" />
<col width="18%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th>step</th>
<th>C++ (pointer)</th>
<th>C++ (reference)</th>
<th>Rust</th>
<th>Rust (raw pointer)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>init referent</td>
<td><code>const int a = 5</code></td>
<td><code>const int a = 5</code></td>
<td><code>let a = 5</code></td>
<td><code>let  a = 5</code></td>
</tr>
<tr class="even">
<td>make ptr/ref</td>
<td><code>const int* p = &amp;a</code></td>
<td><code>const int&amp; r = a</code></td>
<td><code>let r: &amp;i32 = &amp;a</code></td>
<td><code>let p: *const i32 = &amp;a;</code></td>
</tr>
<tr class="odd">
<td>read referent value</td>
<td><code>*p</code></td>
<td><code>r</code></td>
<td><code>*r</code></td>
<td><code>*p</code></td>
</tr>
</tbody>
</table>
</div>
<div id="mutating-the-value-of-the-referent-with-a-pointer-or-reference" class="section level4" number="1.5.0.2">
<h4><span class="header-section-number">1.5.0.2</span> Mutating the Value of the Referent with A Pointer or Reference</h4>
<table>
<colgroup>
<col width="13%" />
<col width="13%" />
<col width="15%" />
<col width="27%" />
<col width="28%" />
</colgroup>
<thead>
<tr class="header">
<th>step</th>
<th>C++ (pointer)</th>
<th>C++ (reference)</th>
<th>Rust</th>
<th>Rust (raw pointer)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>init referent</td>
<td><code>int a = 5</code></td>
<td><code>int a = 5</code></td>
<td><code>let mut a = 5</code></td>
<td><code>let mut a = 5</code></td>
</tr>
<tr class="even">
<td>make ptr/ref</td>
<td><code>int* p = &amp;a</code></td>
<td><code>int* r = &amp;a</code></td>
<td><code>let r: &amp;mut i32 = &amp;mut a</code></td>
<td><code>let p: *mut i32 = &amp;mut a;</code></td>
</tr>
<tr class="odd">
<td>mutate</td>
<td><code>*p = 10</code></td>
<td><code>r = 10</code></td>
<td><code>*r = 10</code></td>
<td><code>*p = 10</code></td>
</tr>
</tbody>
</table>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="control-flow.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tianyishi2001/cpp4r/tree/docs/book/hello.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["cpp4r.pdf", "cpp4r.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
